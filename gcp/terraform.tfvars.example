# GCP IAM Vulnerable - Example Configuration
#
# Copy this file to terraform.tfvars and fill in your values:
#   cp terraform.tfvars.example terraform.tfvars
#
# WARNING: Only deploy to isolated test projects with no sensitive data!

# Required: Your GCP project ID
gcp_project_id = "your-test-project-id"

# Optional: GCP region (default: us-central1)
# gcp_region = "us-central1"

# Optional: GCP zone for compute resources (default: us-central1-a)
# gcp_zone = "us-central1-a"

# Optional: IAM member to grant access to vulnerable resources
# If not specified, defaults to the user running Terraform
# Format: "user:email@example.com" or "serviceAccount:sa@project.iam.gserviceaccount.com"
# attacker_member = "user:attacker@example.com"

# Optional: Prefix for resource names (default: privesc)
# resource_prefix = "privesc"

# =============================================================================
# OPTIONAL: PROJECT CREATION
# =============================================================================
# By default, the project must already exist. Set create_project = true to
# have Terraform create it for you.
#
# To create a project, you need a billing account:
#   gcloud billing accounts list
#
# create_project  = true
# billing_account = "XXXXXX-XXXXXX-XXXXXX"

# =============================================================================
# OPTIONAL: GCP ORGANIZATION
# =============================================================================
# Required only for privesc42 (orgpolicy.policy.set).
# Most privesc paths work without an organization.
# If set with create_project = true, the project will be created under the org.
#
# To get an organization, you need a verified domain through Cloud Identity Free:
#   1. Sign up at: https://workspace.google.com/signup/gcpidentity/welcome
#   2. Verify your domain ownership (TXT or CNAME record)
#   3. Get org ID: gcloud organizations list
#
# See README.md for detailed setup instructions.
# gcp_organization_id = "123456789012"

# =============================================================================
# DISABLED PRIVESC PATHS - Require infrastructure or organization
# =============================================================================
# These paths are disabled by default because they require actual infrastructure
# (which costs money) or a GCP Organization. Enable individually as needed.
#
# When enabled, both the IAM resources AND target infrastructure are created.

# --- Compute-based paths (creates VM, ~$2-5/month) ---
# enable_privesc11 = true  # setMetadata-compute: Add SSH keys via metadata
# enable_privesc12 = true  # osLogin: SSH via OS Login
# enable_privesc13 = true  # setServiceAccount: Swap SA on existing VM

# --- Cloud Functions paths (creates function, free when idle) ---
# enable_privesc16 = true  # updateFunction: Modify function code
# enable_privesc17 = true  # sourceCodeSet: Inject source code

# --- Cloud Run paths (creates service, free when idle) ---
# enable_privesc19 = true  # run.services.update: Modify service

# --- Organization paths (requires gcp_organization_id) ---
# enable_privesc42 = true  # orgpolicy.policy.set: Modify org policies

# =============================================================================
# ENABLE ALL DISABLED PATHS
# =============================================================================
# Uncomment to enable all disabled privesc paths:
#
# enable_privesc11 = true
# enable_privesc12 = true
# enable_privesc13 = true
# enable_privesc16 = true
# enable_privesc17 = true
# enable_privesc19 = true
# enable_privesc42 = true  # Requires gcp_organization_id
